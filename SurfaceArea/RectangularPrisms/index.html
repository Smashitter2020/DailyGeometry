<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Daily Challenge - Surface Area of Retangular Prisms</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
  </head>
  <body>
    <div class="p-5">
      <h2>Daily Challenge - Surface Area of Rectangular Prisms</h2>
      <p id="currentDate"></p>
      <p id="question" class="text-center"></p>
      <div class="d-flex gap-3">
        <input type="number" class="form-control shadow border-0" id="answer" placeholder="Your answer">
        <button class="btn btn-primary text-nowrap" onclick="checkAnswer()" id="submitBtn">Submit Answer</button>
      </div>
    </div>
    <script>
      let length, width, height;

      // Seeded random using date
      function getDailySeed() {
        const today = new Date();
        return today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
      }

      function mulberry32(seed) {
        return function() {
          let t = seed += 0x6D2B79F5;
          t = Math.imul(t ^ (t >>> 15), t | 1);
          t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
          return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
        };
      }

      function generateDailyVolume() {
        const seed = getDailySeed();
        const rand = mulberry32(seed);

        length = Math.floor(rand() * 20) + 2;
        width = Math.floor(rand() * 20) + 2;
        height = Math.floor(rand() * 20) + 2;

        document.getElementById("question").innerHTML = `<math xmlns="http://www.w3.org/1998/Math/MathML"><mi>l</mi><mo>=</mo><mn>${length}</mn><mo>,</mo><mi>w</mi><mo>=</mo><mn>${width}</mn><mo>,</mo><mi>h</mi><mo>=</mo><mn>${height}</mn></math>`;
}
      function checkAnswer() {
        const userAnswer = parseFloat(document.getElementById("answer").value);
        const correctAnswer = 2 * (length * width + length * height + width * height);
  
        if(userAnswer === correctAnswer) {
          document.getElementById("answer").style.background = "#21D375";
        }
        else {
          document.getElementById("answer").style.background = "#ffabab";
        }
  
        document.getElementById("submitBtn").disabled = true;
        document.getElementById("answer").disabled = true;
      }

      // Preferences
      generateDailyVolume();

      const today = new Date();

      const day = today.getDate();
      const month = today.toLocaleString('en-US', {month: 'long'});
      const year = today.getFullYear();

      document.getElementById("currentDate").textContent = "Current date of the equation: " + `${day} ${month} ${year}`;
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>
  </body>
</html>
